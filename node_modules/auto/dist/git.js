"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (this && this.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __read = (this && this.__read) || function (o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
};
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
var plugin_enterprise_compatibility_1 = __importDefault(require("@octokit/plugin-enterprise-compatibility"));
var rest_1 = __importDefault(require("@octokit/rest"));
var gitlog_1 = __importDefault(require("gitlog"));
var tinycolor2_1 = __importDefault(require("tinycolor2"));
var util_1 = require("util");
var typescript_memoize_1 = require("typescript-memoize");
var exec_promise_1 = __importDefault(require("./utils/exec-promise"));
var logger_1 = require("./utils/logger");
var gitlog = util_1.promisify(gitlog_1.default);
var GitAPIError = /** @class */ (function (_super) {
    __extends(GitAPIError, _super);
    function GitAPIError(api, args, origError) {
        return _super.call(this, "Error calling github: " + api + "\n\twith: " + JSON.stringify(args) + ".\n\t" + origError.message) || this;
    }
    return GitAPIError;
}(Error));
var makeCommentIdentifier = function (context) {
    return "<!-- GITHUB_RELEASE COMMENT: " + context + " -->";
};
// A class to interact with the local git instance and the git remote.
// currently it only interfaces with GitHub.
var Git = /** @class */ (function () {
    function Git(options, logger) {
        if (logger === void 0) { logger = logger_1.dummyLog(); }
        this.logger = logger;
        this.options = options;
        this.baseUrl = this.options.baseUrl || 'https://api.github.com';
        this.logger.veryVerbose.info("Initializing GitHub with: " + this.baseUrl);
        var gitHub = rest_1.default.plugin(plugin_enterprise_compatibility_1.default);
        this.ghub = new gitHub({
            baseUrl: this.baseUrl,
            auth: "token " + this.options.token,
            previews: ['symmetra-preview']
        });
    }
    Git.prototype.getLatestReleaseInfo = function () {
        return __awaiter(this, void 0, void 0, function () {
            var latestRelease;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.ghub.repos.getLatestRelease({
                            owner: this.options.owner,
                            repo: this.options.repo
                        })];
                    case 1:
                        latestRelease = _a.sent();
                        return [2 /*return*/, latestRelease.data];
                }
            });
        });
    };
    Git.prototype.getLatestRelease = function () {
        return __awaiter(this, void 0, void 0, function () {
            var latestRelease, e_1;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 2, , 3]);
                        return [4 /*yield*/, this.getLatestReleaseInfo()];
                    case 1:
                        latestRelease = _a.sent();
                        this.logger.veryVerbose.info('Got response for "getLatestRelease":\n', latestRelease);
                        this.logger.verbose.info('Got latest release:\n', latestRelease);
                        return [2 /*return*/, latestRelease.tag_name];
                    case 2:
                        e_1 = _a.sent();
                        if (e_1.status === 404) {
                            this.logger.verbose.info("Couldn't find latest release on GitHub, using first commit.");
                            return [2 /*return*/, this.getFirstCommit()];
                        }
                        throw e_1;
                    case 3: return [2 /*return*/];
                }
            });
        });
    };
    Git.prototype.getCommitDate = function (sha) {
        return __awaiter(this, void 0, void 0, function () {
            var date, _a, day, time, timezone;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0: return [4 /*yield*/, exec_promise_1.default('git', ['show', '-s', '--format=%ci', sha])];
                    case 1:
                        date = _b.sent();
                        _a = __read(date.split(' '), 3), day = _a[0], time = _a[1], timezone = _a[2];
                        return [2 /*return*/, day + "T" + time + timezone];
                }
            });
        });
    };
    Git.prototype.getFirstCommit = function () {
        return __awaiter(this, void 0, void 0, function () {
            var list;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, exec_promise_1.default('git', ['rev-list', 'HEAD'])];
                    case 1:
                        list = _a.sent();
                        return [2 /*return*/, list.split('\n').pop()];
                }
            });
        });
    };
    Git.prototype.getSha = function () {
        return __awaiter(this, void 0, void 0, function () {
            var result;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, exec_promise_1.default('git', ['rev-parse', 'HEAD'])];
                    case 1:
                        result = _a.sent();
                        this.logger.verbose.info("Got commit SHA from HEAD: " + result);
                        return [2 /*return*/, result];
                }
            });
        });
    };
    Git.prototype.getLabels = function (prNumber) {
        return __awaiter(this, void 0, void 0, function () {
            var args, labels, e_2;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.logger.verbose.info("Getting labels for PR: " + prNumber);
                        args = {
                            owner: this.options.owner,
                            repo: this.options.repo,
                            number: prNumber
                        };
                        this.logger.verbose.info('Getting issue labels using:', args);
                        _a.label = 1;
                    case 1:
                        _a.trys.push([1, 3, , 4]);
                        return [4 /*yield*/, this.ghub.issues.listLabelsOnIssue(args)];
                    case 2:
                        labels = _a.sent();
                        this.logger.veryVerbose.info('Got response for "listLabelsOnIssue":\n', labels);
                        this.logger.verbose.info('Found labels on PR:\n', labels.data);
                        return [2 /*return*/, labels.data.map(function (l) { return l.name; })];
                    case 3:
                        e_2 = _a.sent();
                        throw new GitAPIError('listLabelsOnIssue', args, e_2);
                    case 4: return [2 /*return*/];
                }
            });
        });
    };
    Git.prototype.getProjectLabels = function () {
        return __awaiter(this, void 0, void 0, function () {
            var args, labels, e_3;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.logger.verbose.info("Getting labels for project: " + this.options.repo);
                        args = {
                            owner: this.options.owner,
                            repo: this.options.repo
                        };
                        _a.label = 1;
                    case 1:
                        _a.trys.push([1, 3, , 4]);
                        return [4 /*yield*/, this.ghub.issues.listLabelsForRepo(args)];
                    case 2:
                        labels = _a.sent();
                        this.logger.veryVerbose.info('Got response for "getProjectLabels":\n', labels);
                        this.logger.verbose.info('Found labels on project:\n', labels.data);
                        return [2 /*return*/, labels.data.map(function (l) { return l.name; })];
                    case 3:
                        e_3 = _a.sent();
                        throw new GitAPIError('getProjectLabels', args, e_3);
                    case 4: return [2 /*return*/];
                }
            });
        });
    };
    Git.prototype.getGitLog = function (start, end) {
        if (end === void 0) { end = 'HEAD'; }
        return __awaiter(this, void 0, void 0, function () {
            var log;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, gitlog({
                            repo: process.cwd(),
                            number: Number.MAX_SAFE_INTEGER,
                            fields: ['hash', 'authorName', 'authorEmail', 'rawBody'],
                            branch: start.trim() + ".." + end.trim()
                        })];
                    case 1:
                        log = _a.sent();
                        return [2 /*return*/, log.map(function (commit) { return ({
                                hash: commit.hash,
                                authorName: commit.authorName,
                                authorEmail: commit.authorEmail,
                                subject: commit.rawBody
                            }); })];
                }
            });
        });
    };
    Git.prototype.getUserByEmail = function (email) {
        return __awaiter(this, void 0, void 0, function () {
            var search;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.ghub.search.users({
                            q: "in:email " + email
                        })];
                    case 1:
                        search = (_a.sent()).data;
                        return [2 /*return*/, search && search.items.length > 0
                                ? search.items[0]
                                : { login: email }];
                }
            });
        });
    };
    Git.prototype.getUserByUsername = function (username) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.ghub.users.getByUsername({
                            username: username
                        })];
                    case 1: return [2 /*return*/, (_a.sent()).data];
                }
            });
        });
    };
    Git.prototype.getPullRequest = function (pr) {
        return __awaiter(this, void 0, void 0, function () {
            var args, result;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.logger.verbose.info("Getting Pull Request: " + pr);
                        args = {
                            owner: this.options.owner,
                            repo: this.options.repo,
                            number: pr
                        };
                        this.logger.verbose.info('Getting pull request info using:', args);
                        return [4 /*yield*/, this.ghub.pulls.get(args)];
                    case 1:
                        result = _a.sent();
                        this.logger.veryVerbose.info('Got pull request data\n', result);
                        this.logger.verbose.info('Got pull request info');
                        return [2 /*return*/, result];
                }
            });
        });
    };
    Git.prototype.searchRepo = function (options) {
        return __awaiter(this, void 0, void 0, function () {
            var repo, result;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        repo = "repo:" + this.options.owner + "/" + this.options.repo;
                        options.q = repo + " " + options.q;
                        this.logger.verbose.info('Searching repo using:\n', options);
                        return [4 /*yield*/, this.ghub.search.issuesAndPullRequests(options)];
                    case 1:
                        result = _a.sent();
                        this.logger.veryVerbose.info('Got response from search\n', result);
                        this.logger.verbose.info('Searched repo on GitHub.');
                        return [2 /*return*/, result.data];
                }
            });
        });
    };
    Git.prototype.createStatus = function (prInfo) {
        return __awaiter(this, void 0, void 0, function () {
            var args, result;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        args = __assign({}, prInfo, { owner: this.options.owner, repo: this.options.repo });
                        this.logger.verbose.info('Creating status using:\n', args);
                        return [4 /*yield*/, this.ghub.repos.createStatus(args)];
                    case 1:
                        result = _a.sent();
                        this.logger.veryVerbose.info('Got response from createStatues\n', result);
                        this.logger.verbose.info('Created status on GitHub.');
                        return [2 /*return*/, result];
                }
            });
        });
    };
    Git.prototype.createLabel = function (name, label) {
        return __awaiter(this, void 0, void 0, function () {
            var color, result;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.logger.verbose.info("Creating \"" + name + "\" label :\n" + label.name);
                        color = label.color
                            ? tinycolor2_1.default(label.color).toString('hex6')
                            : tinycolor2_1.default.random().toString('hex6');
                        return [4 /*yield*/, this.ghub.issues.createLabel({
                                name: label.name,
                                owner: this.options.owner,
                                repo: this.options.repo,
                                color: color.replace('#', ''),
                                description: label.description
                            })];
                    case 1:
                        result = _a.sent();
                        this.logger.veryVerbose.info('Got response from createLabel\n', result);
                        this.logger.verbose.info('Created label on GitHub.');
                        return [2 /*return*/, result];
                }
            });
        });
    };
    Git.prototype.updateLabel = function (name, label) {
        return __awaiter(this, void 0, void 0, function () {
            var color, result;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.logger.verbose.info("Updating \"" + name + "\" label :\n" + label.name);
                        color = label.color
                            ? tinycolor2_1.default(label.color).toString('hex6')
                            : tinycolor2_1.default.random().toString('hex6');
                        return [4 /*yield*/, this.ghub.issues.updateLabel({
                                current_name: label.name,
                                owner: this.options.owner,
                                repo: this.options.repo,
                                color: color.replace('#', ''),
                                description: label.description
                            })];
                    case 1:
                        result = _a.sent();
                        this.logger.veryVerbose.info('Got response from updateLabel\n', result);
                        this.logger.verbose.info('Updated label on GitHub.');
                        return [2 /*return*/, result];
                }
            });
        });
    };
    Git.prototype.addLabelToPr = function (pr, label) {
        return __awaiter(this, void 0, void 0, function () {
            var result;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.logger.verbose.info("Creating \"" + label + "\" label to PR " + pr);
                        return [4 /*yield*/, this.ghub.issues.addLabels({
                                number: pr,
                                owner: this.options.owner,
                                repo: this.options.repo,
                                labels: [label]
                            })];
                    case 1:
                        result = _a.sent();
                        this.logger.veryVerbose.info('Got response from addLabels\n', result);
                        this.logger.verbose.info('Added labels on Pull Request.');
                        return [2 /*return*/, result];
                }
            });
        });
    };
    Git.prototype.lockIssue = function (issue) {
        return __awaiter(this, void 0, void 0, function () {
            var result;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.logger.verbose.info("Locking #" + issue + " issue...");
                        return [4 /*yield*/, this.ghub.issues.lock({
                                number: issue,
                                owner: this.options.owner,
                                repo: this.options.repo
                            })];
                    case 1:
                        result = _a.sent();
                        this.logger.veryVerbose.info('Got response from lock\n', result);
                        this.logger.verbose.info('Locked issue.');
                        return [2 /*return*/, result];
                }
            });
        });
    };
    Git.prototype.getProject = function () {
        return __awaiter(this, void 0, void 0, function () {
            var result;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.logger.verbose.info('Getting project from GitHub');
                        return [4 /*yield*/, this.ghub.repos.get({
                                owner: this.options.owner,
                                repo: this.options.repo
                            })];
                    case 1:
                        result = (_a.sent()).data;
                        this.logger.veryVerbose.info('Got response from repos\n', result);
                        this.logger.verbose.info('Got project information.');
                        return [2 /*return*/, result];
                }
            });
        });
    };
    Git.prototype.getPullRequests = function (options) {
        return __awaiter(this, void 0, void 0, function () {
            var result;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.logger.verbose.info('Getting pull requests...');
                        return [4 /*yield*/, this.ghub.pulls.list(__assign({ owner: this.options.owner.toLowerCase(), repo: this.options.repo.toLowerCase() }, options))];
                    case 1:
                        result = (_a.sent()).data;
                        this.logger.veryVerbose.info('Got response from pull requests', result);
                        this.logger.verbose.info('Got pull request');
                        return [2 /*return*/, result];
                }
            });
        });
    };
    Git.prototype.getCommitsForPR = function (pr) {
        return __awaiter(this, void 0, void 0, function () {
            var result;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.logger.verbose.info("Getting commits for PR #" + pr);
                        return [4 /*yield*/, this.ghub.pulls.listCommits({
                                owner: this.options.owner.toLowerCase(),
                                repo: this.options.repo.toLowerCase(),
                                number: pr
                            })];
                    case 1:
                        result = (_a.sent()).data;
                        this.logger.veryVerbose.info("Got response from PR #" + pr + "\n", result);
                        this.logger.verbose.info("Got commits for PR #" + pr + ".");
                        return [2 /*return*/, result];
                }
            });
        });
    };
    Git.prototype.createComment = function (message, pr, context) {
        if (context === void 0) { context = 'default'; }
        return __awaiter(this, void 0, void 0, function () {
            var commentIdentifier, comments, oldMessage, result;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        commentIdentifier = makeCommentIdentifier(context);
                        this.logger.verbose.info('Using comment identifier:', commentIdentifier);
                        this.logger.verbose.info('Getting previous comments on:', pr);
                        return [4 /*yield*/, this.ghub.issues.listComments({
                                owner: this.options.owner,
                                repo: this.options.repo,
                                number: pr
                            })];
                    case 1:
                        comments = _a.sent();
                        this.logger.veryVerbose.info('Got PR comments\n', comments);
                        oldMessage = comments.data.find(function (comment) {
                            return comment.body.includes(commentIdentifier);
                        });
                        if (!oldMessage) return [3 /*break*/, 3];
                        this.logger.verbose.info('Found previous message from same scope.');
                        this.logger.verbose.info('Deleting previous comment');
                        return [4 /*yield*/, this.ghub.issues.deleteComment({
                                owner: this.options.owner,
                                repo: this.options.repo,
                                comment_id: oldMessage.id
                            })];
                    case 2:
                        _a.sent();
                        this.logger.verbose.info('Successfully deleted previous comment');
                        _a.label = 3;
                    case 3:
                        this.logger.verbose.info('Creating new comment');
                        return [4 /*yield*/, this.ghub.issues.createComment({
                                owner: this.options.owner,
                                repo: this.options.repo,
                                number: pr,
                                body: commentIdentifier + "\n" + message
                            })];
                    case 4:
                        result = _a.sent();
                        this.logger.veryVerbose.info('Got response from creating comment\n', result);
                        this.logger.verbose.info('Successfully posted comment to PR');
                        return [2 /*return*/, result];
                }
            });
        });
    };
    Git.prototype.publish = function (releaseNotes, tag) {
        return __awaiter(this, void 0, void 0, function () {
            var result;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.logger.verbose.info('Creating release on GitHub for tag:', tag);
                        return [4 /*yield*/, this.ghub.repos.createRelease({
                                owner: this.options.owner,
                                repo: this.options.repo,
                                tag_name: tag,
                                body: releaseNotes
                            })];
                    case 1:
                        result = _a.sent();
                        this.logger.veryVerbose.info('Got response from createRelease\n', result);
                        this.logger.verbose.info('Created GitHub release.');
                        return [2 /*return*/, result];
                }
            });
        });
    };
    __decorate([
        typescript_memoize_1.Memoize()
    ], Git.prototype, "getLatestReleaseInfo", null);
    __decorate([
        typescript_memoize_1.Memoize()
    ], Git.prototype, "getLatestRelease", null);
    __decorate([
        typescript_memoize_1.Memoize()
    ], Git.prototype, "getLabels", null);
    __decorate([
        typescript_memoize_1.Memoize()
    ], Git.prototype, "getGitLog", null);
    __decorate([
        typescript_memoize_1.Memoize()
    ], Git.prototype, "getUserByEmail", null);
    __decorate([
        typescript_memoize_1.Memoize()
    ], Git.prototype, "getUserByUsername", null);
    __decorate([
        typescript_memoize_1.Memoize()
    ], Git.prototype, "getPullRequest", null);
    __decorate([
        typescript_memoize_1.Memoize()
    ], Git.prototype, "getProject", null);
    __decorate([
        typescript_memoize_1.Memoize()
    ], Git.prototype, "getCommitsForPR", null);
    return Git;
}());
exports.default = Git;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2l0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2dpdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLDZHQUF3RTtBQUN4RSx1REFBb0M7QUFDcEMsa0RBQTZDO0FBQzdDLDBEQUFtQztBQUNuQyw2QkFBaUM7QUFFakMseURBQTZDO0FBRzdDLHNFQUErQztBQUMvQyx5Q0FBbUQ7QUFFbkQsSUFBTSxNQUFNLEdBQUcsZ0JBQVMsQ0FBQyxnQkFBVSxDQUFDLENBQUM7QUFjckM7SUFBMEIsK0JBQUs7SUFDN0IscUJBQVksR0FBVyxFQUFFLElBQVksRUFBRSxTQUFnQjtlQUNyRCxrQkFDRSwyQkFBeUIsR0FBRyxrQkFBYSxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxhQUMzRCxTQUFTLENBQUMsT0FDVixDQUNIO0lBQ0gsQ0FBQztJQUNILGtCQUFDO0FBQUQsQ0FBQyxBQVJELENBQTBCLEtBQUssR0FROUI7QUFFRCxJQUFNLHFCQUFxQixHQUFHLFVBQUMsT0FBZTtJQUM1QyxPQUFBLGtDQUFnQyxPQUFPLFNBQU07QUFBN0MsQ0FBNkMsQ0FBQztBQUVoRCxzRUFBc0U7QUFDdEUsNENBQTRDO0FBQzVDO0lBT0UsYUFBWSxPQUFvQixFQUFFLE1BQTRCO1FBQTVCLHVCQUFBLEVBQUEsU0FBa0IsaUJBQVEsRUFBRTtRQUM1RCxJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQztRQUNyQixJQUFJLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztRQUN2QixJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxJQUFJLHdCQUF3QixDQUFDO1FBRWhFLElBQUksQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQywrQkFBNkIsSUFBSSxDQUFD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